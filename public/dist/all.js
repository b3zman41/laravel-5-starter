function NavController(e){var t=this;this.requests=[],this.applications=[],this.notificationCount=function(){var e=0;return t.requests&&_.values(t.requests).forEach(function(t){e+=t.length}),t.applications&&_.values(t.applications).forEach(function(t){e+=t.length}),e},this.openLink=function(e){console.log("FUCKNG LINK M*"),location.href=e},e.getRequests().then(function(e){t.reqeusts=e.data},angular.noop),e.getApplications().then(function(e){t.applications=e.data},angular.noop)}function SurgeonProfileController(e,t){var n=this;return n.setSurgeon=function(e){n.surgeon=e,console.log(e),n.setYoutubeTime()},n.trustUrl=function(t){return e.trustAsResourceUrl(t)},n.formattedName=function(){var e=n.surgeon;return[e.prefix,e.first_name,e.last_name,e.suffix].join(" ")},n.setYoutubeTime=function(){var e=t.idFromUrl(n.surgeon.youtube_url);n.surgeon.safe_youtube_url="https://www.youtube.com/embed/"+e,t.timeDurationOfYoutubeId(e).then(function(e){n.youtubeTime=e},angular.noop)},n.formatSchoolTime=function(e){var t=e.started,n=e.present?"Present":e.ended;return t+" - "+n},n}function ActivtiyService(e){return{getRequests:function(){return e({url:"/dashboard/requests",method:"GET"})},getApplications:function(){return e({url:"/dashboard/disapproved",method:"GET"})}}}angular.module("app",["ngMaterial","ngImgCrop","ngSanitize","textAngular"]).filter("reverse",function(){return function(e){return e.reverse()}}).filter("lDate",["$filter",function(e){return function(t,n){return e("date")(new Date(t),n)}}]).directive("outsideClick",["$document",function(e){return{restrict:"A",link:function(t,n,o,r){n.bind("click",function(e){e.stopPropagation()}),e.bind("click",function(){t.$apply(o.outsideClick)})}}}]).filter("tel",function(){return function(e){if(!e)return"";var t=e.toString().trim().replace(/^\+/,"");if(t.match(/[^0-9]/))return e;var n,o,r;switch(t.length){case 10:n=1,o=t.slice(0,3),r=t.slice(3);break;case 11:n=t[0],o=t.slice(1,4),r=t.slice(4);break;case 12:n=t.slice(0,3),o=t.slice(3,5),r=t.slice(5);break;default:return e}return 1==n&&(n=""),r=r.slice(0,3)+"-"+r.slice(3),(n+" ("+o+") "+r).trim()}}),angular.module("app").controller("ResultsController",["$scope","$http","SpecialtyService","SymptomService",function(e,t,n,o){e.results=[],e.allSpecialties=[],e.allSymptoms=[],e.setResults=function(t,n,o,r,i,a){e.results=t,e.query=n,e.county=e.routeParams.county?e.routeParams.county.replace("+"," "):"",e.page=r?r:1,e.radius=i?i.toString():25..toString(),e.count=a?a:0,e.$watch("radius",function(t,n){t!==n&&e.county&&(window.location="/surgeon/search?query="+encodeURIComponent(e.query.replace(/ /g,"+"))+"&county="+e.county+"&radius="+e.radius)})},e.shouldSearch=!0,e.searchResults={specialties:[],symptoms:[]},e.query="",e.$watch("query",function(t,n){if(e.searchResults={specialties:[],symptoms:[]},t!==n&&e.query&&e.query.length>1&&e.shouldSearch){var o=e.query.toLowerCase();e.allSpecialties.forEach(function(t){var n=t.special.toLowerCase();if(n.indexOf(o)>-1||o.indexOf(n)>-1){var r=!1;e.searchResults.specialties.forEach(function(e){e.id==t.id&&(r=!0)}),r||e.searchResults.specialties.push(t)}}),e.allSymptoms.forEach(function(t){var n=t.name.toLowerCase();if(n.indexOf(o)>-1||o.indexOf(n)>-1){var r=!1;e.searchResults.symptoms.forEach(function(e){e.id==t.id&&(r=!0)}),r||e.searchResults.symptoms.push(t)}})}e.shouldSearch||(e.shouldSearch=!0)}),e.setSearchTerm=function(t){e.shouldSearch=!1,e.query=t},e.shouldList=function(){return e.searchResults.specialties.length>0||e.searchResults.symptoms.length>0},e.specialtyMatchesSearch=function(e,t,n){for(var o=t.split(" "),r=0;r<o.length;r++){var i=o[r];if(e.special.toLowerCase().indexOf(i.toLowerCase())>-1)return!0}return!1},e.getMatchingSpecialtyForSurgeon=function(t){for(var n=0;n<t.specialties.length;n++){var o=t.specialties[n];if(e.specialtyMatchesSearch(o,e.query,t))return o}},e.moreInfo=function(e){window.location="/surgeon/"+e.id+"/url"},e.makeAppointment=function(e){window.location="/surgeon/"+e.id+"/appointment"},e.getRange=function(e,t){for(var n=[],o=e;t>=o;o++)n.push(o);return n},e.setPage=function(t){t!==e.page&&(window.location="/surgeon/search?query="+encodeURIComponent(e.query.replace(/ /g,"+"))+"&page="+t+"&county="+e.county+"&radius="+e.radius)},e.getMaxPage=function(){return Math.ceil(e.count/21)},e.shouldRenderPageNumber=function(t){return t>0&&t<=Math.ceil(e.count/21)},e.shouldShowSurgeon=function(e){return!!e.image},e.getQueryParams=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(t))},e.routeParams=e.getQueryParams(),t({url:"/surgeon/search.json",method:"POST",data:e.routeParams}).then(function(t){var n=t.data;e.setResults(n.surgeons,e.routeParams.query?e.routeParams.query.replace(/\+/g," "):"",e.routeParams.zip,e.routeParams.page,e.routeParams.radius,n.count)},function(e){}),e.updateCategoryFromQuery=function(){for(var t in e.allSpecialties){var n=e.allSpecialties[t];n.special===e.query&&(e.selectedCategory=n)}},n.all().then(function(t){e.allSpecialties=t.data},angular.noop),o.all().then(function(t){e.allSymptoms=t.data},angular.noop)}]),angular.module("app").controller("HomeController",["$scope","SpecialtyService","SymptomService","$http",function(e,t,n,o){e.allSpecialties=[],e.allSymptoms=[],e.shouldSearch=!0,e.searchResults={specialties:[],symptoms:[]},e.searchTerm="",e.$watch("searchTerm",function(t,n){if(e.searchResults={specialties:[],symptoms:[]},t!==n&&e.searchTerm&&e.searchTerm.length>1&&e.shouldSearch){var o=e.searchTerm.toLowerCase();e.allSpecialties.forEach(function(t){var n=t.special.toLowerCase();if(n.indexOf(o)>-1||o.indexOf(n)>-1){var r=!1;e.searchResults.specialties.forEach(function(e){e.id==t.id&&(r=!0)}),r||e.searchResults.specialties.push(t)}}),e.allSymptoms.forEach(function(t){var n=t.name.toLowerCase();if(n.indexOf(o)>-1||o.indexOf(n)>-1){var r=!1;e.searchResults.symptoms.forEach(function(e){e.id==t.id&&(r=!0)}),r||e.searchResults.symptoms.push(t)}})}e.shouldSearch||(e.shouldSearch=!0)}),e.setSearchTerm=function(t){e.shouldSearch=!1,e.searchTerm=t},e.shouldList=function(){return e.searchResults.specialties.length>0||e.searchResults.symptoms.length>0},t.all().then(function(t){e.allSpecialties=t.data},angular.noop),n.all().then(function(t){e.allSymptoms=t.data},angular.noop),o({url:"/county/closest",method:"GET"}).then(function(t){e.county=t.data.county+", "+t.data.state,console.log(e.county)},function(e){console.log(e)})}]),angular.module("app").controller("DashboardController",["$scope","$http","DialogService","$timeout","$location",function(e,t,n,o,r){e.getRange=function(e,t){for(var n=[],o=e;t>=o;o++)n.push(o);return n},e.setPage=function(t,n){(t!==e.page||n)&&(window.location="/dashboard/search?query="+e.query+"&page="+t+"&default="+e.selectedSearchCategory+"&limit="+e.maxResults)},e.getSelectedCount=function(){return e[e.selectedSearchCategory+"Count"]},e.getCountForSelected=function(){return e.getSelectedCount()},e.getMaxPage=function(){return Math.ceil(e.getCountForSelected()/e.maxResults)},e.shouldRenderPageNumber=function(t){return t>0&&t<=e.getMaxPage()},e.getQueryParams=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(t))},e.getResultsCount=function(){return"all"===e.selectedSearchCategory?Math.min(e.allLength,e.maxResults):Math.min(e[e.selectedSearchCategory+"Results"].length,e.maxResults)},e.editSurgeon=function(e){window.location.href="/surgeon/"+e.id+"/edit"},e.deleteSurgeon=function(e,t){n.deleteItem(e,e.first_name+" "+e.last_name,t).then(function(t){window.location.href="/surgeon/"+e.id+"/delete"},angular.noop)},e.editASC=function(e){window.location.href="/asc/"+e.id+"/edit"},e.deleteASC=function(e,t){n.deleteItem(e,e.name,t).then(function(t){window.location.href="/asc/"+e.id+"/delete"},angular.noop)},e.editVendor=function(e){window.location.href="/vendor/"+e.id+"/edit"},e.deleteVendor=function(e,t){n.deleteItem(e,e.name,t).then(function(t){window.location.href="/vendor/"+e.id+"/delete"},angular.noop)},e.setSelectedCategory=function(t){e.selectedSearchCategory=t;var n=e[t+"Count"];e.page=n>e.maxResults*e.page?e.getQueryParams().page:e.getMaxPage()},e.approveChanges=function(e,t){console.log(e),n.approveChanges(e,t).then(function(t){"approve"===t?window.location.href="/surgeon/"+e.current_edit.id+"/approve":"deny"===t&&(window.location.href="/surgeon/"+e.current_edit.id+"/delete")},angular.noop)},e.approveAnesthesiologistChanges=function(e,t){e.current_edit=e.edit,n.approveChanges(e,t).then(function(t){"approve"==t&&(window.location.href="/anesthesiologist/"+e.edit.id+"/approve"),"deny"===t&&(window.location.href="/anesthesiologist/"+e.id+"/delete")},angular.noop)},e.approveVendorChanges=function(e,t){n.approveChanges(e,t).then(function(t){"approve"===t?window.location.href="/vendor/"+e.current_edit.id+"/approve":"deny"===t&&(window.location.href="/vendor/"+e.current_edit.id+"/delete")},angular.noop)},e.editAnesthesiologist=function(e,t){location.href="/anesthesiologist/"+e.id+"/edit"},e.deleteAnesthesiologist=function(e,t){n.deleteItem(e,e.first_name+" "+e.last_name,t).then(function(t){location.href="/anesthesiologist/"+e.id+"/delete"},angular.noop)},e.editEmployer=function(e){location.href="/employer/"+e.id+"/edit"},e.deleteEmployer=function(e,t){n.deleteItem(e,e.first_name+e.last_name,t).then(function(t){location.href="/employer/"+e.id+"/delete"},angular.noop)},e.getDisapproved=function(){t({url:"/dashboard/disapproved",method:"GET"}).then(function(t){e.disapproved=t.data},angular.noop)},t({url:"/dashboard/search.json",method:"POST",data:e.getQueryParams()}).then(function(t){var n=t.data,o=e.getQueryParams();e.surgeonResults=n.surgeonResults,e.ascResults=n.ascResults,e.vendorResults=n.vendorResults,e.inactiveResults=n.inactiveResults,e.anesthesiologistResults=n.anesthesiologistResults,e.anesthesiologistCount=n.anesthesiologistCount,e.employerResults=n.employerResults,e.employerCount=n.employerCount,e.selectedSearchCategory=n["default"],e.surgeonCount=n.surgeonCount,e.ascCount=n.ascCount,e.vendorCount=n.vendorCount,e.inactiveCount=n.inactiveCount,e.maxResults=o.limit?1*o.limit:10,e.allCount=n.anesthesiologistCount+n.employerCount+n.surgeonCount+n.ascCount+n.vendorCount+n.inactiveCount,e.allLength=n.anesthesiologistResults.length+n.employerResults.length+n.surgeonResults.length+n.ascResults.length+n.vendorResults.length+n.inactiveResults.length,e.query=o.query?o.query:"",e.page=o.page?1*o.page:1},angular.noop),t({url:"/dashboard/requests",method:"GET"}).then(function(t){e.requests=t.data},angular.noop)}]),angular.module("app").controller("SurgeonController",["$scope","SpecialtyService","ASCService","$http","DialogService","$location","UserService",function(e,t,n,o,r,i,a){e.UserService=a,e.leftSelected=[],e.rightSelected=[],e.selectedSpecialties=[],e.nonSelectedSpecialties=[],e.possibleYears=function(){var e=(new Date).getFullYear(),t=[];t.push("Present");for(var n=0;50>n;n++)t.unshift(e-n);return t}(),console.log(e.possibleYears),e.addNewAward=function(e){e.awards||(e.awards=[]),e.awards.push({})},e.addNewSchool=function(e){e.schools||(e.schools=[]),e.schools.push({})},e.addNewCertificate=function(e){e.certificates||(e.certificates=[]),e.certificates.push({})},e.moveNonToSelected=function(){e.leftSelected.length>0&&(e.leftSelected.forEach(function(t,n){e.selectedSpecialties.push(e.specialtyForIdInArray(parseInt(t),e.allSpecialties));for(var o=0;o<e.nonSelectedSpecialties.length;o++){var r=e.nonSelectedSpecialties[o];parseInt(r.id)===parseInt(t)&&e.nonSelectedSpecialties.splice(o,1)}}),e.leftSelected=[])},e.isSpecialtySelected=function(t){var n=!1;return e.selectedSpecialties.forEach(function(e){e.id==t.id&&(n=!0)}),n},e.moveSelectedToNon=function(){e.rightSelected.length>0&&(e.rightSelected.forEach(function(t,n){e.nonSelectedSpecialties.push(e.specialtyForIdInArray(parseInt(t),e.allSpecialties));for(var o=0;o<e.selectedSpecialties.length;o++){var r=e.selectedSpecialties[o];parseInt(r.id)===parseInt(t)&&e.selectedSpecialties.splice(o,1)}}),e.rightSelected=[])},e.getSelectedJoinedByComma=function(){return e.selectedSpecialties?e.selectedSpecialties.map(function(e){return e.id}).join(","):void 0},e.specialtyForIdInArray=function(e,t){for(var n in t){var o=t[n];if(e===parseInt(o.id))return o}return null},e.initSpecialties=function(){e.surgeon&&e.allSpecialties&&(e.leftSelected=e.surgeon.specialties.map(function(e){return e.id}),e.moveNonToSelected())},e.deleteSurgeon=function(e,t){r.deleteItem(e,e.first_name+" "+e.last_name,t).then(function(t){window.location.href="/surgeon/"+e.id+"/delete"},angular.noop)},e.getMine=function(){o({url:"/surgeon/mine",method:"GET"}).then(function(t){e.surgeon=t.data,e.originalSurgeon=$.extend(!0,{},e.surgeon),e.initSpecialties()},angular.noop)},e.setSurgeon=function(t){e.surgeon=t,0==t.awards.length&&e.addNewAward(t),0==t.schools&&e.addNewSchool(t),0==t.certificates&&e.addNewCertificate(t),t.schools.forEach(function(e){e.present&&(e.ended="Present")}),console.log(t)},e.getQueryParams=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(t))},e.hasChanged=function(e,t){return angular.equals(e,t)},t.all().then(function(t){e.nonSelectedSpecialties=t.data.slice(),e.allSpecialties=t.data.slice(),e.selectedSpecialties=[],e.initSpecialties()},angular.noop),n.all().then(function(t){e.allASC=t.data},angular.noop)}]),angular.module("app").controller("ASCController",["$scope","SpecialtyService","$http","DialogService","$location",function(e,t,n,o,r){e.allSpecialties=[],e.leftSelected=[],e.rightSelected=[],e.selectedSpecialties=[],e.nonSelectedSpecialties=[],e.moveNonToSelected=function(){e.leftSelected.length>0&&(e.leftSelected.forEach(function(t,n){e.selectedSpecialties.push(e.specialtyForIdInArray(parseInt(t),e.allSpecialties));for(var o=0;o<e.nonSelectedSpecialties.length;o++){var r=e.nonSelectedSpecialties[o];parseInt(r.id)===parseInt(t)&&e.nonSelectedSpecialties.splice(o,1)}}),e.leftSelected=[])},e.moveSelectedToNon=function(){e.rightSelected.length>0&&(e.rightSelected.forEach(function(t,n){e.nonSelectedSpecialties.push(e.specialtyForIdInArray(parseInt(t),e.allSpecialties));for(var o=0;o<e.selectedSpecialties.length;o++){var r=e.selectedSpecialties[o];parseInt(r.id)===parseInt(t)&&e.selectedSpecialties.splice(o,1)}}),e.rightSelected=[])},e.getSelectedJoinedByComma=function(){return e.selectedSpecialties?e.selectedSpecialties.map(function(e){return e.id}).join(","):void 0},e.specialtyForIdInArray=function(e,t){for(var n in t){var o=t[n];if(e===parseInt(o.id))return o}return null},e.initSpecialties=function(){e.asc&&e.allSpecialties&&(e.leftSelected=e.asc.specialties.map(function(e){return e.id}),e.moveNonToSelected())},e.deleteASC=function(e,t){o.deleteItem(e,e.name,t).then(function(t){window.location.href="/asc/"+e.id+"/delete"},angular.noop)},e.getQueryParams=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(t))},t.all().then(function(t){e.allSpecialties=t.data.slice(),e.nonSelectedSpecialties=t.data.slice(),e.initSpecialties()}),e.review=e.getQueryParams().review;var i=window.location.pathname.split("/");if("edit"===i[i.length-1]){e.edit=!0;var a=i[i.length-2];n({url:"/asc/"+a,method:"GET"}).then(function(t){e.asc=t.data,e.initSpecialties()},angular.noop)}}]),angular.module("app").controller("SymptomController",["$scope","SymptomService","SpecialtyService","$http","DialogService",function(e,t,n,o,r){e.allSymptoms=null,e.leftSelected=[],e.rightSelected=[],e.selectedSpecialties=[],e.nonSelectedSpecialties=[],e.selectedSymptom=null,e.editSymptom=function(t){e.editing=!0,e.selectedSymptom&&(e.rightSelected=e.selectedSymptom.specialties.map(function(e){return e.id}),e.moveSelectedToNon()),e.selectedSymptom=t,e.initSpecialties(),window.scrollTo(0,50)},e.removeSymptom=function(e,t){r.deleteItem(e,e.name,t).then(function(t){o({url:"/symptoms/"+e.id+"/delete",method:"DELETE"}).then(function(e){location.href="/dashboard/symptoms"},angular.noop)},angular.noop)},e.moveNonToSelected=function(){e.leftSelected.length>0&&(e.leftSelected.forEach(function(t,n){e.selectedSpecialties.push(e.specialtyForIdInArray(parseInt(t),e.allSpecialties));for(var o=0;o<e.nonSelectedSpecialties.length;o++){var r=e.nonSelectedSpecialties[o];parseInt(r.id)===parseInt(t)&&e.nonSelectedSpecialties.splice(o,1)}}),e.leftSelected=[])},e.moveSelectedToNon=function(){e.rightSelected.length>0&&(e.rightSelected.forEach(function(t,n){e.nonSelectedSpecialties.push(e.specialtyForIdInArray(parseInt(t),e.allSpecialties));for(var o=0;o<e.selectedSpecialties.length;o++){var r=e.selectedSpecialties[o];parseInt(r.id)===parseInt(t)&&e.selectedSpecialties.splice(o,1)}}),e.rightSelected=[])},e.getSelectedJoinedByComma=function(){return e.selectedSpecialties?e.selectedSpecialties.map(function(e){return e.id}).join(","):void 0},e.specialtyForIdInArray=function(e,t){for(var n in t){var o=t[n];if(e===parseInt(o.id))return o}return null},e.initSpecialties=function(){e.selectedSymptom&&e.allSpecialties&&(e.leftSelected=e.selectedSymptom.specialties.map(function(e){return e.id}),e.moveNonToSelected())},e.$watch("selectedSymptom.name",function(t){var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ";if(e.selectedSymptom.name){for(var o="",r=0;r<e.selectedSymptom.name.length;r++)n.indexOf(e.selectedSymptom.name.charAt(r))>-1&&(o+=e.selectedSymptom.name.charAt(r));e.selectedSymptom.name=o.trim()}}),t.all().then(function(t){e.allSymptoms=t.data},angular.noop),n.all().then(function(t){e.nonSelectedSpecialties=t.data.slice(),e.allSpecialties=t.data.slice(),e.selectedSpecialties=[],e.initSpecialties()},angular.noop);var i=window.location.pathname.split("/");if("edit"===i[i.length-1]){e.edit=!0;var a=i[i.length-2];o({url:"/symptoms/"+a,method:"GET"}).then(function(t){e.selectedSymptom=t.data,e.initSpecialties()},angular.noop)}}]),angular.module("app").controller("VendorController",["$scope","$http","$location",function(e,t,n){e.getMine=function(){t({url:"/vendor/mine",method:"GET"}).then(function(t){e.vendor=t.data,e.originalVendor=$.extend(!0,{},e.vendor)},angular.noop)},e.getQueryParams=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(t))},e.hasChanged=function(e,t){return angular.equals(e,t)},e.review=e.getQueryParams().review;var o=window.location.pathname.split("/");if("edit"===o[o.length-1]){e.edit=!0;var r=o[o.length-2];t({url:"/vendor/"+r,method:"GET"}).then(function(t){e.vendor=t.data},angular.noop)}}]),angular.module("app").controller("SurgeonDashboardController",["$scope","VendorService","$interval","DialogService","$http","ArticleService",function(e,t,n,o,r,i){e.getAllPremium=function(){t.allPremium().then(function(t){e.premiums=t.data,e.currentVendor=e.premiums[Math.floor(Math.random()*e.premiums.length)],console.log(e.currentVendor)},angular.noop)},e.showReport=function(){o.showViewReportDialog(e.surgeon).then(function(e){location.href="/surgeon/activity"},angular.noop)},e.newArticle=function(){i.createArticle()},r({url:"/surgeon/mine",method:"GET"}).then(function(t){e.surgeon=t.data},angular.noop),n(function(){e.currentVendor=e.premiums[Math.floor(Math.random()*e.premiums.length)]},1e4,0)}]),angular.module("app").controller("AcitivityController",["$scope","$filter","$http",function(e,t,n){e.today=new Date,e.getActivityForId=function(t){console.log(t),n({url:"/activity/"+t,method:"GET"}).then(function(t){e.mine=t.data},angular.noop)},e.getMoreInfoDataForMonth=function(t){var n=null;return e.mine&&e.mine.more_info.forEach(function(e){e.month===t&&(n=e)}),n},e.getAppointmentDataForMonth=function(t){var n=null;return e.mine&&e.mine.appointment.forEach(function(e){e.month===t&&(n=e)}),n},e.getTotalForMonth=function(t){var n=e.getMoreInfoDataForMonth(t),o=e.getAppointmentDataForMonth(t),r=0;return n&&(r+=n.count),o&&(r+=o.count),r},e.monthNameForNumber=function(e){var n=new Date;return n.setMonth(e),t("date")(n,"MMMM")},e.getRange=function(e,t){for(var n=[],o=e;t>o;o++)n.push(o);return n},e.params=function(){var e=location.search.slice(1).split("&"),t={};return e.forEach(function(e){e=e.split("="),t[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(t))}()}]),angular.module("app").controller("ApplicationsController",["$scope","$http","DialogService",function(e,t,n){e.getDisapproved=function(){t({url:"/dashboard/disapproved",method:"GET"}).then(function(t){e.disapproved=t.data},angular.noop)},e.reviewSurgeon=function(t){e.reviewType(t,"surgeon")},e.reviewEmployer=function(t){e.reviewType(t,"employer")},e.reviewASC=function(t){e.reviewType(t,"asc")},e.reviewAnesthesiologist=function(t){e.reviewType(t,"anesthesiologist")},e.reviewVendor=function(t){e.reviewType(t,"vendor")},e.reviewType=function(e,t){n.reviewItemDialog(e,t).then(function(n){location.href="/"+t+"/"+e.id+"/approve?reason="+n},function(n){n&&(location.href="/"+t+"/"+e.id+"/delete?reason="+n)})}}]),angular.module("app").controller("EmployerController",["$scope","$location",function(e,t){}]),angular.module("app").controller("NavController",NavController),NavController.$inject=["ActivityService"],SurgeonProfileController.$inject=["$sce","YoutubeService"],angular.module("app").controller("SurgeonProfileController",SurgeonProfileController),angular.module("app").factory("SpecialtyService",["$http",function(e){var t={};return t.all=function(){return e({url:"/specialty",method:"GET"})},t}]),angular.module("app").factory("ASCService",["$http",function(e){var t={};return t.all=function(){return e({url:"/asc/",method:"GET"})},t}]),angular.module("app").factory("DialogService",["$mdDialog",function(e){var t={};return t.deleteItem=function(t,n,o){return e.show({templateUrl:"/views/dialogs/deleteItemDialogView.html",controller:["$scope","item","text","$mdDialog",function(e,t,n,o){e.item=t,e.text=n,e.$mdDialog=o,console.log(t)}],locals:{item:t,text:n},targetEvent:o,clickOutsideToClose:!0})},t.approveChanges=function(t,n){return console.log(t),e.show({templateUrl:"/views/dialogs/approveChangesDialogView.html",controller:["$scope","$mdDialog","surgeon",function(e,t,n){e.$mdDialog=t,e.surgeon=n,e.shouldRenderFieldForSurgeon=function(t,n){return"object"!=typeof n[t]&&"array"!=typeof n[t]&&n[t]!==n.current_edit[t]&&e.isSafe(t)&&(n[t]||(n[t]="Empty"),n[t]&&n.current_edit[t])?!0:!1},e.isSafe=function(e){var t=["id","created_at","updated_at","changed_from","edit","approved","primary_specialty"];return t.indexOf(e)<0},e.isLink=function(e){return e.indexOf("/")>-1},e.formatKey=function(e){return e.replace(/_/g," ")},e.approve=function(){location.href="/surgeon/"+n.current_edit.id+"/approve"}}],locals:{surgeon:t},targetEvent:n,clickOutsideToClose:!0})},t.showViewReportDialog=function(t,n){return e.show({templateUrl:"/views/dialogs/timerDialogView.html",controller:["$scope","surgeon","$interval","$mdDialog","VendorService",function(e,t,n,o,r){e.$mdDialog=o,e.timer=30,e.done=function(){e.timer<1&&o.hide()},e.getAllPremium=function(){r.allPremium().then(function(t){e.premiums=t.data,e.currentVendor=e.premiums[Math.floor(Math.random()*e.premiums.length)],console.log(e.currentVendor)},angular.noop)},n(function(){e.timer--},1e3),n(function(){e.currentVendor=e.premiums[Math.floor(Math.random()*e.premiums.length)]},1e4)}],locals:{surgeon:t}})},t.reviewItemDialog=function(t,n,o){return e.show({templateUrl:"/views/dialogs/approveItemDialogView.html",locals:{item:t,type:n},controller:["$scope","item","type","$mdDialog",function(e,t,n,o){e.item=t,e.type=n,e.$mdDialog=o,console.log(t),e.shouldRenderFieldForItem=function(t,n){return"object"!=typeof n[t]&&"array"!=typeof n[t]&&n[t]&&e.isSafe(t)&&n[t]?!0:!1},e.isSafe=function(e){var t=["id","created_at","updated_at","changed_from","edit","approved","primary_specialty","owner","lat","lng","owner_id"];return t.indexOf(e)<0},e.isLink=function(e){return e.indexOf("/")>-1},e.formatKey=function(e){return e.replace(/_/g," ")},e.approve=function(){e.status&&o.hide(e.reason),e.status="approve"},e.deny=function(){e.status&&o.cancel(e.reason),e.status="deny"}}]})},t.showCropImageView=function(t){return e.show({templateUrl:"/views/dialogs/imageCropDialogView.html",controller:["$scope","image","$mdDialog",function(e,t,n){e.myImage=t,e.croppedImage="",e.$mdDialog=n}],locals:{image:t}})},t.showCreateArticleDialog=function(){return e.show({templateUrl:"/views/dialogs/createArticleDialogView.html",controller:["$scope","$mdDialog",function(e,t){e.$mdDialog=t}]})},t.getConfirmation=function(t,n){return e.show({templateUrl:"/views/dialogs/confirmationDialogView.html",event:n,controller:["$scope","$mdDialog",function(e,t){e.$mdDialog=t}]})},t}]),angular.module("app").factory("SymptomService",["$http",function(e){var t={};return t.all=function(){return e({url:"/symptoms/all",method:"GET"})},t}]),angular.module("app").factory("VendorService",["$http",function(e){var t={};return t.allPremium=function(){return e({url:"/vendor/premium",method:"GET"})},t}]),ActivtiyService.$inject=["$http"],angular.module("app").factory("ActivityService",ActivtiyService),angular.module("app").factory("ArticleService",["DialogService",function(e){var t={};return t.createArticle=function(){e.showCreateArticleDialog().then(function(e){t.publishArticle(e).then(function(e){},angular.noop)},angular.noop)},t.publishArticle=function(){return $http({})},t}]),angular.module("app").factory("UserService",["DialogService",function(e){var t={};return t.changePasswordForUser=function(e){return $http({method:"POST",url:"/auth/"+e.id+"/changeuserpass"})},t.changePasswordForUserWithDialog=function(t,n){e.getConfirmation("Some random message",n).then(function(e){},angular.noop)},t}]),angular.module("app").factory("YoutubeService",["$http","$q",function(e,t){var n={};return n.idFromUrl=function(e){return n.getQueryParams(e).v},n.timeDurationOfYoutubeId=function(o){var r=t.defer();return e.get("https://www.googleapis.com/youtube/v3/videos?id="+o+"&part=contentDetails&key=AIzaSyD1bUJ99AbUCz6V7Qi_1rYddSrjbj7De_E").then(function(e){var t=e.data.items[0].contentDetails.duration,o=n.totalSecondsFromYoutubeTime(t),i=moment.duration(1e3*o).humanize();r.resolve(i)},function(e){r.reject(e)}),r.promise},n.totalSecondsFromYoutubeTime=function(e){var t=/^PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?$/,n=0,o=0,r=0;if(t.test(e)){var i=t.exec(e);return i[1]&&(n=Number(i[1])),i[2]&&(o=Number(i[2])),i[3]&&(r=Number(i[3])),3600*n+60*o+r}},n.getQueryParams=function(e){var t=e.split("?")[1].split("&"),n={};return t.forEach(function(e){e=e.split("="),n[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(n))},n}]);